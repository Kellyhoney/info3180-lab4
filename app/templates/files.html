{% extends 'base.html' %}

{% block main %}
<h1 class="page-header">Uploaded Files</h1>
{% include 'flash_messages.html' %}

{% if images %}
<style>
  .image-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    margin-top: 20px;
  }
  .image-grid img {
    width: 100%;
    height: 300px;
    object-fit: cover;
    border-radius: 5px;
  }
</style>

<div class="image-grid">
  {% for image in images %}
    <div>
      <!-- The crucial part: <img> src points to /upload/<filename> -->
      <img src="{{ url_for('get_image', filename=image) }}" alt="{{ image }}">
    </div>
  {% endfor %}
</div>
{% else %}
  <p>No files have been uploaded yet.</p>
{% endif %}
{% endblock %}
